@using Microsoft.AspNet.Identity
@*@if (Request.IsAuthenticated)
    {
        using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
        {
        @Html.AntiForgeryToken()

        <ul class="nav navbar-nav navbar-right">
            <li>
                @Html.ActionLink("Hello " + User.Identity.GetUserName() + "!", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })
            </li>
            <li><a href="javascript:document.getElementById('logoutForm').submit()">Log off</a></li>
        </ul>
        }
    }
    else
    {
        <ul class="nav navbar-nav navbar-right">
            <li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
            <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
        </ul>
    }*@
<div class="header-info-right">
    <ul>
        @if (Request.IsAuthenticated)
        {
            <li>
                <div class="dropdown">
                    <a class="dropdown-toggle" href="#" role="button" id="dmUser" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Hello, @User.Identity.GetUserName()</a>
                    <div class="dropdown-menu" aria-labelledby="dmUser">
                        <a class="dropdown-item text-dark" href="#">Profile management</a>
                        <a class="dropdown-item text-dark" data-toggle="modal" data-target="#logoutModal">Log out</a>
                        <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Sẵn sàng để thoát?</h5>
                                        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">Chọn "Đăng xuất" nếu bạn muốn kết thúc phiên làm việc hiện tại</div>
                                    <div class="modal-footer">
                                        <button class="btn btn-secondary" type="button" data-dismiss="modal">Hủy</button>
                                        @using (Html.BeginForm("LogOff", "account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                                        {
                                            @Html.AntiForgeryToken()
                                            <a class="btn btn-primary" href="javascript:document.getElementById('logoutForm').submit()">Đăng xuất</a>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </li>
            <li><a href="product_list.html">Wish list</a></li>

        }
        <li><a href="cart.html">Shopping</a></li>
        <li><a href="checkout.html">Checkout</a></li>
    </ul>
</div>
